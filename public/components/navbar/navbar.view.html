<div layout="row" layout-wrap class="my-top-nav-bar" ng-controller="NavbarCtrl as vm">
    <md-toolbar class="md-toolbar-tools my-md-menu-top my-md-no-padding md-primary md-hue-2" layout="row" layout-align="center center">
        <div flex-gt-md="90" layout="row" layout-fill>
            <div flex layout="row" layout-fill layout-align="end  center" ng-cloak>
                <!--
                <md-button layout="row" layout-align="center center" class="md-primary md-hue-1 my-md-link-btn" ui-sref="app.user.dashboard.pedidos">Meus Pedidos
                </md-button>
-->
                <div style="position:relative; height:100%" ng-mouseenter="vm.showHideUserPopOver()" ng-mouseleave="vm.showHideUserPopOver()">
                    <md-button layout="row" layout-align="center center" class="md-primary my-md-no-shadow md-raised my-md-link-btn " ui-sref="app.user.dashboard.dados" ng-hide="!isloggedIn">
                        <md-icon class="material-icons md-36">account_box</md-icon>
                        Olá {{loggedUserName}}

                    </md-button>
                    <md-card class="user-pop-over" ng-show="vm.isShowUserPopOver">
                        <md-card class="my-md-no-margin">
                            <md-card-title class="my-md-no-padding-top my-md-no-padding-bot">
                                <h4 class="md-title my-md-smooth-title my-md-no-padding">{{loggedUserName}}</h4>
                            </md-card-title>
                            <md-divider></md-divider>
                            <md-card-content layout="column" layout-align="center start">
                                <md-list layout="column" layout-align="center start">
                                    <md-list-item>
                                        <md-button flex layout="row" layout-align=" start center" class="md-primary md-hue-2 my-md-link-btn" ui-sref="app.user.dashboard.dados">
                                            <md-icon class="material-icons">settings</md-icon>
                                            <p class="md-subheader"><b>&nbsp;Sua conta</b>
                                            </p>
                                        </md-button>

                                    </md-list-item>
                                    <md-list-item>
                                        <md-button ui-sref="app.user.dashboard.endereco" flex layout="row" layout-align="start center" class="md-primary md-hue-2 my-md-link-btn">
                                            <md-icon class="material-icons">location_on</md-icon>
                                            <p class="md-subheader"><b>&nbsp;Seus endereços</b>
                                            </p>
                                        </md-button>
                                    </md-list-item>
                                    <md-list-item>
                                        <md-button ui-sref="app.user.dashboard.pedidos" flex layout="row" layout-align="start center" class="md-primary md-hue-2 my-md-link-btn">
                                            <md-icon class="material-icons">local_shipping</md-icon>
                                            <p class="md-subheader"><b>&nbsp;Seus pedidos</b>
                                            </p>
                                        </md-button>
                                    </md-list-item>

                                </md-list>
                            </md-card-content>
                            <md-divider></md-divider>
                            <md-card-actions class="my-md-grey-bg my-md-no-margin" layout-padding>
                                <md-button flex layout="row" layout-align="start center" class="md-primary md-hue-1 my-md-link-btn" ng-hide="!isloggedIn" ng-click="vm.logout()">
                                    <md-icon class="md-primary md-hue-1 mdi mdi-logout material-icons md-24"></md-icon>&nbsp;

                                    <p class="md-subheader"><b>Sair</b>
                                    </p>
                                </md-button>
                            </md-card-actions>
                        </md-card>
                    </md-card>
                </div>

                <md-button layout="row" layout-align="center center" class="md-primary md-hue-1 my-md-link-btn" ng-hide="isloggedIn" ui-sref="app.user.signup">Cadastro
                </md-button>
                <md-button layout="row" layout-align="center center" class="md-primary md-hue-2 my-md-link-btn" ng-hide="isloggedIn" ui-sref="app.user.login"><i class="fa fa-sign-in fa-2x"></i>&nbsp; Entrar
                </md-button>
                <!--
                <md-button layout="row" layout-align="center center" class="md-primary md-hue-2 my-md-link-btn" ng-hide="!isloggedIn" ng-click="vm.logout()"><i class="fa fa-sign-out fa-2x"></i>Sair
                </md-button>
-->
                <div class="kart-pop-over-container" label="kart" ng-mouseenter="vm.showHideKartPopOver()" ng-mouseleave="vm.showHideKartPopOver()">
                    <md-button layout="row" layout-align="center center" class="md-warn md-raised my-md-no-shadow my-md-no-margin" ui-sref="app.minhaCesta">
                        <md-icon class="material-icons my-md-no-margin">shopping_cart</md-icon>
                        <span class="md-subhead ">{{vm.kartSize}}</span>
                    </md-button>
                    <div class="kart-pop-over" ng-show="vm.isShowKartPopOver">
                        <md-card class="my-md-no-margin">
                            <md-card-title class="my-md-no-padding-top my-md-no-padding-bot">
                                <h4 class="md-title my-md-smooth-title my-md-no-padding">Meu carrinho ({{vm.kartSize}} Itens))</h4>
                            </md-card-title>
                            <md-divider></md-divider>
                            <md-card-content class="my-md-no-padding">
                                <md-list>
                                    <md-list-item class="md-2-line my-md-padding-left-right" ng-repeat="prd in vm.kartData" ng-class="{even:$even, odd:$odd}">
                                        <img ng-src={{prd.imagens}} class="md-avatar" alt="">
                                        <div class="md-list-item-text">
                                            <md-button class="md-primary my-md-link-btn my-md-no-padding-left">
                                                <h4 class="md-subheader my-md-capital">{{prd.descricao}}</h4>
                                            </md-button>
                                            <p>Quantidade: {{prd.buyQty}}</p>
                                        </div>
                                    </md-list-item>
                                </md-list>
                            </md-card-content>
                            <md-divider></md-divider>
                            <div layout-padding class="my-md-grey-bg">
                                <md-card-actions class="my-md-no-margin" layout="row">
                                    <md-button flex class="md-primary md-raised">
                                        <md-icon class="material-icons">shopping_cart</md-icon>
                                        Ir para o carrinho
                                    </md-button>
                                </md-card-actions>
                            </div>
                        </md-card>
                    </div>
                </div>
                <!--                <md-button class="md-primary my-md-link-btn" ng-click=" vm.showPutedInCartToast()">Toast</md-button>-->

            </div>

        </div>

    </md-toolbar>
    <md-toolbar layout="row" layout-align="center center" class="my-md-no-padding md-toolbar-tools my-nav-bar-menu">
        <div flex="100" flex-gt-md="90" layout="row" class="md-menu-toolbar" layout-align="space-between center">
            <div id="myCartToast"></div>

            <div flex layout="row">
                <md-button ui-sref="app" class="menu-button-sm" ng-class="{'menu-button-lg':vm.$mdMedia('gt-sm')}">
                    <img src="../../assets/img/logo/sonyLogo2.png">
                </md-button>
            </div>
            <div flex="50" layout="row">
                <div class="menu-bar" layout="column" ng-mouseleave="vm.closeMenus()">
                    <md-button class="menu-button-sm" ng-class="{'menu-button-lg':vm.$mdMedia('gt-sm')}" ng-click="vm.OpenMenu()">
                        Produtos
                        <md-icon class="material-icons my-md-rotate-90">chevron_right</md-icon>
                    </md-button>
                    <!--                    <div layout="column" layout-padding layout-align="center center" ng-show="true" class="full-menu my-md-grey-bg md-whiteframe-3dp" role="menu">-->
                    <div layout="column" layout-align="center center" layout-padding ng-show="vm.showMenu" class="full-menu my-md-grey-bg md-whiteframe-3dp" role="menu">
                        <div layout="row" layout-align="center  center" class="my-md-menu-item" ng-class="{'my-md-menu-open':vm.isSubMenuOpen}">
                            <div flex-gt-md="25" flex-md="15" class="my-md-no-padding" ng-repeat="prdctNavCat in vm.productNavCategories">
                                <md-card layout="column" layout-align="space-between center" class="" ng-class="{'active-menu':vm.activeMenuIdx==$index, }">
                                    <md-button class="md-primary my-md-no-margin my-md-no-padding" ng-mouseover="vm.openSubMenu($index)" ng-click="vm.prdgetSect(prdctNavCat.name); vm.openSubMenu($index)">
                                        <md-card-content>
                                            <img class="md-card-image" ng-src="{{prdctNavCat.imgPath}}" alt="{{prdctNavCat.name}}" />
                                        </md-card-content>
                                        <span class="md-subhead">{{prdctNavCat.name}}</span>
                                        <md-icon class="md-primary material-icons  ">expand_more</md-icon>
                                    </md-button>
                                </md-card>


                                <!--                                        </md-content>-->
                                <div layout="row" layout-align="center center" class="submenu" ng-show="vm.showSubMenu ==$index && vm.showMenu">
                                    <!--                                    <div layout="row" layout-padding layout-align="center center" class="submenu" ng-show="true">-->
                                    <div flex="50" flex-md="80" layout="row" layout-align="center center" class="subMenuItems" ng-show="vm.showSubMenu ==$index && vm.showMenu">
                                        <md-card flex="15" class="my-md-no-padding" layout-padding layout-margin ng-repeat="prdctNavSubCat in vm.productNavCategories[$index].subcat" ui-sref="app.produtos.section.category({section:prdctNavCat.name, category:prdctNavSubCat.name})" ng-click="vm.getCatg(prdctNavCat.name, prdctNavSubCat.name); vm.closeMenus()">
                                            <md-button class="my-md-no-margin my-md-no-padding">
                                                <md-card-content>
                                                    <img class="md-card-image" alt="raspery" src="../../assets/img/navbar/passive_components.jpg">
                                                </md-card-content>
                                                <div layout-padding>
                                                    <p class="md-subheader my-md-smooth-title">{{prdctNavSubCat.name}}</p>
                                                </div>

                                            </md-button>

                                        </md-card>
                                    </div>

                                </div>
                            </div>

                        </div>
                        <div flex layout="row" style="background-color:white">
                            <md-button class="md-title md-primary">
                                <md-icon class="material-icons">apps</md-icon>Todos os departamentos</md-button>
                        </div>
                    </div>
                </div>
                <div>
                    <md-button class="menu-button-sm" ng-class="{'menu-button-lg':vm.$mdMedia('gt-sm')}">
                        Tutoriais
                    </md-button>
                </div>
                <div>
                    <md-button ui-sref="app.contact" class="menu-button-sm" ng-class="{'menu-button-lg':vm.$mdMedia('gt-sm')}">
                        Contato
                    </md-button>
                </div>
            </div>
            <div flex="25" layout="row" layout-align="center center">
                <md-input-container flex md-no-float layout="row">
                    <input placeholder="Buscar" type="text" ng-model="vm.searchText" style="color:rgba(255, 255, 255, 0.870588)">
                </md-input-container>
                <md-button class="md-icon-button" ng-click="vm.searchPrd(vm.searchText)">
                    <md-icon class="material-icons">search</md-icon>
                </md-button>
            </div>
        </div>
    </md-toolbar>
</div>