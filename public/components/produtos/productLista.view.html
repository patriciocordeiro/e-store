<div layout="row" layout-align="center start">
    <div flex="90" md-padding layout=column class="md-whiteframe-z4" style="background-color:white" layout-padding>

        <!--        <md-toolbar class="md-toolbar-tools md-whiteframe-z4">Resistores</md-toolbar>-->
        <div id="search-info" ng-show="vm.searchTotal">
            <!--            <div id="search-info" ng-show="true">-->
            <h3 class="md-headline">Sua busca retorno {{vm.searchTotal}} resultados</h3>
            AASAD {{vm.subsec}}
            <md-card>
                <md-card-title>
                    <h4 class="md-title">Categorias</h4>
                </md-card-title>
                <md-card-content layout="row">
                    <div ng-repeat="sections in vm.searchSections">
                        <md-list ng-repeat="sections in vm.searchSections">
                            <md-list-item>
                                <md-checkbox ng-model="message.selected" class="md-primary"></md-checkbox>
                                <p>{{sections}}</p>
                            </md-list-item>
                            <md-list ng-repeat="subsections in vm.searchSubSections">
                                <md-list-item>
                                    <md-checkbox ng-click="vm.getSubSections(subsections, vm.selected)" ng-model="vm.subsec[$index]" class="md-primary"></md-checkbox>
                                    <p>{{subsections}}</p>
                                </md-list-item>
                            </md-list>
                            <p>Total de itens:{{vm.totalLeft}}</p>
                    </div>



                </md-card-content>
            </md-card>
        </div>
        <md-card>
            <md-card-content>
                <div layout="column" layout-align="center center">
                    <md-list layout="row">
                        <md-list-item ng-repeat="(key, val) in vm.filterData">
                            <md-card>
                                <md-card-title>
                                    <h5 class='md-subhead'>{{key}}</h5>
                                </md-card-title>
                                <md-content style="height:200px">

                                    <md-card-content>

                                        <md-list>
                                            <md-list-item ng-repeat="values in val">
                                                <md-checkbox ng-model="vm.caractFilter[values.$$hashKey]" ng-click="vm.comFilter(values, vm.caracArrayToFilt)"></md-checkbox>
                                                <p class="md-subheader">{{values.valor}}</p>
                                            </md-list-item>
                                        </md-list>

                                    </md-card-content>
                                </md-content>
                            </md-card>
                        </md-list-item>
                    </md-list>
                </div>
            </md-card-content>
        </md-card>

        <div layout="row" layout-padding layout-align="end center">
            <div flex layout="row" layout-align="start center">
                <md-button class="md-accent md-raised">Comprar selecionados</md-button>
                <md-button class="md-primary md-raised">Comprarar selecionados</md-button>
            </div>
            <div flex layout="row" layout-padding layout-align="end center">
                <h4 class="md-body-2"><b>Página</b>:</h4>
                <md-button ng-disabled="vm.disablePrevBtn" class="md-primary groupX left" ng-click=" vm.gotoFirstPage()"><i class="material-icons">navigate_before</i>
                </md-button>
                <md-button ng-disabled="vm.disablePrevBtn" class="md-accent  groupX middle" ng-click="vm.prevPage()"><i class="material-icons">navigate_before</i>
                </md-button>
                <div ng-repeat="page in vm.pages">
                    <md-button ng-model="vm.currentPage" class="md-accent groupX middle" ng-click="vm.changePage(page)" ng-class="vm.isActive(page)">{{page}}</md-button>
                </div>
                <md-button ng-disabled="vm.disableNextBtn" class="md-primary  groupX middle" ng-click="vm.nextPage()"><i class="material-icons">navigate_next</i>
                </md-button>
                <md-button ng-disabled="vm.disableNextBtn" class="md-primary groupX right" ng-click="vm.goTolastPage()">Last</md-button>
            </div>
        </div>
        <div layout="column" layout-align="center center">
            <table class="prd-list-table">
                <thead>
                    <tr>
                        <th flex layout-padding="center center" ng-repeat="fixedCols in vm.prdFixedCols">
                            <h4 class="md-subhead">{{fixedCols}}</h4>

                        </th>
                        <th flex layout-padding="center center" ng-repeat="caractName in vm.caract[0]">
                            <h4 class="md-subhead" style="text-transform: capitalize">{{caractName.nome}}</h4>
                        </th>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>
                            <div layout="row">
                                <md-button class="my-md-icon-btn" ng-click="vm.ordering('disponibilidade')"><i class="material-icons">keyboard_arrow_up</i>
                                </md-button>
                                <md-button class="my-md-icon-btn" ng-click="vm.ordering('-disponibilidade')"><i class="material-icons">keyboard_arrow_down</i>
                                </md-button>
                            </div>
                        </td>
                        <td>
                            <div layout="row">
                                <md-button class="my-md-icon-btn" ng-click="vm.ordering('preco')"><i class="material-icons">keyboard_arrow_up</i>
                                </md-button>
                                <md-button class="my-md-icon-btn" ng-click="vm.ordering('-preco')"><i class="material-icons">keyboard_arrow_down</i>
                                </md-button>
                            </div>
                        </td>
                        <td></td>
                        <td ng-repeat="caractName in vm.caract[0]">
                            <div layout="row">
                                <md-button class="my-md-icon-btn" ng-click="vm.ordering(vm.forFilter[$index])"><i class="material-icons">keyboard_arrow_up</i>
                                </md-button>
                                <md-button class="my-md-icon-btn" ng-click="vm.ordering('-'+vm.forFilter[$index])"><i class="material-icons">keyboard_arrow_down</i>
                                </md-button>
                            </div>
                        </td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="prd in vm.prdData | orderBy:vm.order">

                        <td class="product-image">
                            <img ng-src={{prd.imagens}}>
                        </td>
                        <td>{{prd.ref_PM}}</td>
                        <td>{{prd.ref_fabricante}}</td>
                        <td>{{prd.descricao}}</td>
                        <td>{{prd.disponibilidade}}</td>
                        <td>{{prd.preco}}</td>
                        <td>
                            <md-input-container class="md-block">
                                <input type="number" min="1" max="{{prd.disponibilidade}}" value="{{vm.prdQty[$index]}}" ng-model="vm.prdQty[$index]" aria-label="quantidade">
                                <md-button class="md-warn md-raised" ng-click="vm.prdGetBuy(vm.prdQty[$index], products._id); vm.showJanoCarrinhoDiag($event)">
                                    Comprar
                                </md-button>
                            </md-input-container>

                        </td>
                        <td ng-repeat="val in prd.caracteristicas">
                            {{val.valor}}
                        </td>
                        <md-divider></md-divider>
                    </tr>
                </tbody>
            </table>
        </div>
        <md-divider></md-divider>
        <div flex layout="row" layout-padding layout-align="end center">
            <div><b>Página</b>:</div>
            <md-button ng-disabled="vm.disablePrevBtn" class="md-primary groupX left" ng-click=" vm.gotoFirstPage()"><i class="material-icons">navigate_before</i>
            </md-button>
            <md-button ng-disabled="vm.disablePrevBtn" class="md-primary  groupX middle" ng-click="vm.prevPage()"><i class="material-icons">navigate_before</i>
            </md-button>
            <div ng-repeat="page in vm.pages">
                <md-button ng-model="vm.currentPage" class="md-primary groupX middle" ng-click="vm.changePage(page)" ng-class="vm.isActive(page)">{{page}}</md-button>
            </div>
            <md-button ng-disabled="vm.disableNextBtn" class="md-primary  groupX middle" ng-click="vm.nextPage()"><i class="material-icons">navigate_next</i>
            </md-button>
            <md-button ng-disabled="vm.disableNextBtn" class="md-primary groupX right" ng-click="vm.goTolastPage()">Last</md-button>
        </div>
    </div>
</div>

